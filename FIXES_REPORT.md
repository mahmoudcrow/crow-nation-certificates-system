# ๐ง ุชูุฑูุฑ ุงูุฅุตูุงุญุงุช - 29 ุฏูุณูุจุฑ 2025

## โ ุชู ุฅุตูุงุญ 3 ูุดุงูู

---

## **ุงููุดููุฉ 1๏ธโฃ: ุงูุดูุงุฏุงุช ูุง ุชุธูุฑ ุจุนุฏ ุงูุฅุถุงูุฉ**

### ุงูุณุจุจ:
- ุงูููู ูู ููู ูุญูุธ ุญูู `created_at` (ุชุงุฑูุฎ ุงูุฅูุดุงุก)
- ุงูููู ูู ููู ูุญูุธ ุญูู `email` (ุงูุจุฑูุฏ ุงูุฅููุชุฑููู)
- ุงูุฎุทุฃ ูู ูุนุงููุงุช `wpdb->update()`

### โ ุงูุญู:
**ุงูููู**: `admin/admin-page.php`

```php
// ุฃุถููุง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:
$data = [
    'serial' => ...,
    'name' => ...,
    'email' => sanitize_email($_POST['email'] ?? ''),  // โจ NEW
    'title' => ...,
    ...
];

// ูุฃุถููุง created_at ุนูุฏ ุงูุฅุถุงูุฉ:
} else {
    $data['created_at'] = current_time('mysql');  // โจ NEW
    $wpdb->insert($table, $data);
}
```

---

## **ุงููุดููุฉ 2๏ธโฃ: ุฎุทุฃ "Sorry, you are not allowed to access this page"**

### ุงูุณุจุจ:
ุฏุงูุฉ `crow_admin_page_html()` ูุงูุช ุชุฑุฌุน `return` ุจุฏูุงู ูู ุฅุธูุงุฑ ุฑุณุงูุฉ ุฎุทุฃ ูุญุชุฑูุฉ ุนูุฏ ุนุฏู ูุฌูุฏ ุงูุตูุงุญูุงุช

### โ ุงูุญู:
**ุงูููู**: `admin/admin-page.php`

```php
function crow_admin_page_html() {
    if (!current_user_can('manage_options')) {
        wp_die(__('ููุณ ูุฏูู ุตูุงุญูุงุช ูุงููุฉ ูููุตูู ุฅูู ูุฐู ุงูุตูุญุฉ', 'crow-certificates'));
        // โจ ูุงู: return;
    }
```

---

## **ุงููุดููุฉ 3๏ธโฃ: ูุงุฌูุฉ ุซูุงุฆูุฉ ุงููุบุฉ (ุนุฑุจู + ุฅูุฌููุฒู)**

### ุงูุณุจุจ:
- ูุงุฆูุฉ ุงูุฅุฏุงุฑุฉ ุงูุฑุฆูุณูุฉ ูุงูุช ุจุงูุฅูุฌููุฒู ("Certificates", "Analytics")
- ุฎูุงุฑุงุช ุงูุญุงูุฉ ูุงูุช ุจุงูุฅูุฌููุฒู ("Active", "Expired", "Revoked")
- ุฃุณูุงุก ุฃุนูุฏุฉ ุงูุฌุฏูู ูุงูุช ุจุงูุฅูุฌููุฒู

### โ ุงูุญู:
**ุงูููู**: `crow-nation-certificates.php`

```php
add_menu_page(
    __('ูุธุงู ุฅุฏุงุฑุฉ ุงูุดูุงุฏุงุช', 'crow-certificates'),      // โจ ุชู ุงูุชุฑุฌูุฉ
    __('ุงูุดูุงุฏุงุช', 'crow-certificates'),                 // โจ ุชู ุงูุชุฑุฌูุฉ
    ...
);

add_submenu_page(
    'crow-certificates',
    __('ุงูุชุญูููุงุช', 'crow-certificates'),               // โจ ุชู ุงูุชุฑุฌูุฉ
    __('ุงูุชุญูููุงุช', 'crow-certificates'),               // โจ ุชู ุงูุชุฑุฌูุฉ
    ...
);
```

**ุงูููู**: `admin/admin-page.php`

```php
// ุงูุญุงูุงุช:
<select name="status">
    <option value="active">โ ูุดุท</option>       // โจ ุชู ุงูุชุฑุฌูุฉ
    <option value="expired">โฐ ููุชูู</option>     // โจ ุชู ุงูุชุฑุฌูุฉ
    <option value="revoked">โ ููุบู</option>     // โจ ุชู ุงูุชุฑุฌูุฉ
</select>

// ุฃุณูุงุก ุงูุฃุนูุฏุฉ:
<th>ุฑูู</th>              // โจ ูู "ID"
<th>ุงูุณูุฑูุงู</th>        // โจ ูู "Serial"
<th>ุงูุงุณู</th>          // โจ ูู "Name"
<th>ุงูุนููุงู</th>        // โจ ูู "Title"
<th>ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ</th>  // โจ ูู "Issue Date"
<th>ุงูุญุงูุฉ</th>        // โจ ูู "Status"
<th>ุงูุฅุฌุฑุงุกุงุช</th>      // โจ ูู "Actions"
```

---

## ๐ฏ **ุฅุถุงูุงุช ุฃุฎุฑู**

### โจ ุญูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
ุฃุถููุง ุญูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูู ูููุฐุฌ ุงูุฅุถุงูุฉ ูุงูุชุนุฏูู:

```php
<tr>
    <th>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</th>
    <td><input type="email" name="email" value="..."></td>
</tr>
```

### โจ ุชุญุณูู ุงูุฑูุงุจุท
ุฃุตูุญูุง ุงูุฑุงุจุท ูู ุตูุญุฉ ูุงุฆูุฉ ุงูุดูุงุฏุงุช:

```php
// ูุจู:
href="<?php echo admin_url('admin.php?page=crow-admin'); ?>"

// ุจุนุฏ:
href="<?php echo admin_url('admin.php?page=crow-certificates'); ?>"
```

### โจ ุชุญุณูู ุนุฑุถ ุงูุชุงุฑูุฎ
ุงูุขู ูุนุฑุถ ุงูุชุงุฑูุฎ ุจุตูุบุฉ ุนุฑุจูุฉ:

```php
// ูุจู:
<?= $cert->issue_date ?>  // 2025-01-01

// ุจุนุฏ:
<?= date_i18n('d/m/Y', strtotime($cert->issue_date)) ?>  // 01/01/2025
```

### โจ ุชุญุณูู ุนุฑุถ ุงูุญุงูุฉ
ุงูุขู ุชุธูุฑ ุงูุญุงูุฉ ูุน ุงูุฃููููุงุช ูุงูุนุฑุจูุฉ:

```php
// ูุจู:
<?= $cert->status ?>  // "active"

// ุจุนุฏ:
โ ูุดุท
โฐ ููุชูู
โ ููุบู
```

---

## ๐ **ููุฎุต ุงูุชุนุฏููุงุช**

| ุงูููู | ุงูุชุนุฏูู | ุงูููุน |
|------|---------|-------|
| `crow-nation-certificates.php` | ุชุฑุฌูุฉ ุงูููุงุฆู | ๐ ุชุฑุฌูุฉ |
| `admin/admin-page.php` | ุฅุตูุงุญ ุงูุตูุงุญูุงุช | ๐ง ุฅุตูุงุญ |
| `admin/admin-page.php` | ุญูุธ ุงูุจูุงูุงุช ุงููุงููุฉ | ๐ง ุฅุตูุงุญ |
| `admin/admin-page.php` | ุชุฑุฌูุฉ ุงููุงุฌูุฉ | ๐ ุชุฑุฌูุฉ |
| `admin/admin-page.php` | ุชุญุณูู ุงูุนุฑุถ | ๐จ ุชุญุณูู |
| `admin/certificates-list.php` | ุฅุตูุงุญ ุงูุฑูุงุจุท | ๐ง ุฅุตูุงุญ |

---

## ๐ **ุงูุขู ูุฌุจ ุฃู:**

1. โ ุชุธูุฑ ุงูุดูุงุฏุงุช ุจุนุฏ ุฅุถุงูุชูุง ูุจุงุดุฑุฉ
2. โ ุชููู ุฌููุน ุงููุตูุต ุจุงูุนุฑุจูุฉ
3. โ ุชุญุตู ุนูู ุฑุณุงูุฉ ุฎุทุฃ ูุญุชุฑูุฉ ุนูุฏ ุนุฏู ูุฌูุฏ ุตูุงุญูุงุช
4. โ ูุนูู ุงูุจุญุซ ุจุดูู ุตุญูุญ
5. โ ูุนูู ุงูุชุนุฏูู ูุงูุญุฐู ุจุฏูู ูุดุงูู

---

## ๐งช **ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ:**

### 1. ุฃุถู ุดูุงุฏุฉ ุฌุฏูุฏุฉ:
```
Admin โ ุงูุดูุงุฏุงุช โ ุฅุถุงูุฉ ุดูุงุฏุฉ ุฌุฏูุฏุฉ
ููุฃ ุงูุจูุงูุงุช ูุงููุฉ
ุงุถุบุท "ุฅุถุงูุฉ ุงูุดูุงุฏุฉ"
ูุฌุจ ุฃู ุชุธูุฑ ูู ุงูุฌุฏูู ุฃุณูู ุงูุตูุญุฉ
```

### 2. ุงุฎุชุจุฑ ูุงุฆูุฉ ุงูุดูุงุฏุงุช:
```
Admin โ ุงูุดูุงุฏุงุช โ ูุงุฆูุฉ ุงูุดูุงุฏุงุช
ูุฌุจ ุฃู ุชุธูุฑ ุฌููุน ุงูุดูุงุฏุงุช
ูุฌุจ ุฃู ุชููู ุจุงูุนุฑุจูุฉ ุจุงููุงูู
```

### 3. ุงุฎุชุจุฑ ุงูุจุญุซ:
```
ุงูุชุจ ุณูุฑูุงู ุฃู ุงุณู ูู ุฎุงูุฉ ุงูุจุญุซ
ุงุถุบุท ุจุญุซ
ูุฌุจ ุฃู ุชุธูุฑ ุงููุชุงุฆุฌ
```

---

**ุงูุญุงูุฉ**: โ ุฌููุน ุงููุดุงูู ุชู ุฅุตูุงุญูุง
**ุงูุชุงุฑูุฎ**: 29 ุฏูุณูุจุฑ 2025
